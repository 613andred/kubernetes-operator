language: go
sudo: required

env:
  global:
    - GO111MODULE=on
    - CHANGE_MINIKUBE_NONE_USER=true
    - MINIKUBE_WANTUPDATENOTIFICATION=false
    - MINIKUBE_WANTREPORTERRORPROMPT=false
    - MINIKUBE_HOME=$HOME
    - KUBECONFIG=$HOME/.kube/config

go:
- 1.12.x

matrix:
  fast_finish: true
  allow_failures:
  - go: master

before_install:
- make go-dependencies

script:
- make verify
- make travis-prepare
- make build e2e

cache:
  directories:
    - vendor